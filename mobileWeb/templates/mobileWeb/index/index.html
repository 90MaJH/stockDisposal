<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Title</title>
  <!-- 합쳐지고 최소화된 최신 CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

  <!-- 부가적인 테마 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

  <!-- 합쳐지고 최소화된 최신 자바스크립트 -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a8ebfb76dd00fdcc562be3accd1ce60f&libraries=services"></script>
  <script charset="UTF-8" src="http://t1.daumcdn.net/mapjsapi/js/main/4.1.9/kakao.js"></script>
</head>

<body style="border:1px solid black">
  <div class="jumbotron"
    style="padding: 5px;margin-left: 20px;margin-right: 20px;margin-top: 20px;margin-bottom: 20px;">
    <div id="map" style="width: 100%; height: 290px;"></div>
  </div>

  <div class="container" style="
  padding-left: 5px;
  padding-right: 5px;
  margin-left: 20px;
  margin-right: 20px;
  margin-top: 10px;
  margin-bottom: 10px;
">
    <!-- this row will wrapping foreach-->
    {% for mart in marts %} 
    <div class="row">
      <div class="col-xs-6 picture">
        <div style="width: 200px;height: 90px;overflow: hidden;padding: 0;max-width: 100%;height: auto;margin-top: 5px;margin-left: 5px;margin-right: 5px;margin-bottom: 5px;">
          <img src="./tree.png" alt="숲" class="img-responsive">
          <h4>{{ mart.name }}</h4>
          <p>{{ mart.address }}</p>
          <p>{{ mart.tell }}</p>
        </div>
      </div><!-- col-xs-6 picture end-->
      <div class="col-xs-6">
        <!-- this content will changed python variable-->   
        {% for item in items %} 
        <p>이름:{{ item.name }}</p>
        <p>가격:{{ item.price }}</p>
        <p>유통기한:{{ item.expirationDate }}</p>
        {% endfor %}
        <!--
        <button type="button" name="detail_btn" value="detail_btn">더보기</button>
        -->
      </div>
    </div><!-- row end-->
    {% endfor %}
  </div>



  <script>
    var container = document.getElementById('map');
    var options = {
      center: new kakao.maps.LatLng(33.450701, 126.570667),//초기맵좌표
      level: 3 //맵 레벨(확대정도)
    };
    //맵 객체 생성
    var map = new kakao.maps.Map(container, options);
    // 주소-좌표 변환 객체를 생성
    var geocoder = new kakao.maps.services.Geocoder();

    // 주소로 좌표를 검색(실 주소는 파이썬 변수)
    geocoder.addressSearch('서울특별시 강남구 테헤란로 101 강남역지하쇼핑센터 A-10', function (result, status) {
      // 정상적으로 검색이 완료됐으면 
      if (status === kakao.maps.services.Status.OK) {
        var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
        // 결과값으로 받은 위치를 마커로 표시
        var marker = new kakao.maps.Marker({
          map: map,
          position: coords
        });
        // 인포윈도우로 장소에 대한 설명을 표시(장소 이름은 파이썬 변수)
        var infowindow = new kakao.maps.InfoWindow({
          content: '<div style="width:150px;text-align:center;padding:6px 0;">GS25강남메트로점</div>'
        });
        infowindow.open(map, marker);

        // 지도의 중심을 결과값으로 받은 위치로 이동
        map.setCenter(coords);
      }
    });  
  </script>


  <style>
    .jumbotron {
      padding: 50px 15px;
      margin-bottom: 30px;
      color: inherit;
      background-color: #eee;
      height: 300px;
    }

    html,
    body {
      width: 100%;
      height: 100%;
    }
  </style>
</body>

</html>